<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Projects</title>
    <link rel="stylesheet" type="text/css" th:href="@{/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body class="projects-page">

<header class="header">
    <form th:action="@{/login}">
        <button class="profile-button"><i class="fa fa-arrow-circle-left"></i></button>
    </form>

    <form th:action="@{/employees/{username}(username=${sessionUser})}">
        <button class="profile-button"><i class="fa fa-user-circle-o"></i></button>
    </form>

    <form th:action="@{/logout}">
        <button class="profile-button"><i class="fa fa-times-circle"></i></button>
    </form>
</header>

<div class="projects-container">

    <h1>Your projects</h1>

    <div class="project-grid">

        <a class="project-card-link"
           th:each="project, iter : ${allProjects}"
           th:href="@{/projects/{pid}(pid=${project.ID})}">

            <div class="project-card">
                <div class="card-bg">
                    <h2 th:text="${project.projectTitle}"></h2>

                    <div class="card-fg">
                        <div class="icons">
                            <p><i class="fa fa-user"></i> <span th:text="${employeesInvolved[iter.index]}"></span></p>
                            <p><i class="fa fa-clock-o"></i> <span th:text="${#numbers.formatDecimal(timeSpents[iter.index], 0, 0)}"></span></p>
                        </div>
                        <div class="plx-project-card-dates">
                            <p>
                                <i class="fa fa-play"></i>
                                <span th:text="${startDates[iter.index]}"></span>
                            </p>
                            <p>
                                <i class="fa fa-flag-checkered"></i>
                                <span th:text="${endDates[iter.index]}"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </a>


        <div class="project-card add-card" th:if="${isManager}">
            <form th:action="@{/projects/add-project}">
                <button class="add-button" type="submit">+</button>
            </form>
        </div>

    </div>
</div>

<footer class="footer">
    Â© 2025 Plannex
</footer>

</body>
</html>
